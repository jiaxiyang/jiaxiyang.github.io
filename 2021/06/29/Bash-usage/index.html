<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.0.0-rc2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jiaxiyang.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="Useful Tools (can install from github release)windows files 文件管理器 PowerToys color pick: win + shift + c 鼠标荧光笔   罗技 master3 鼠标， 大拇指 + 左右， workspace 切换 PowerToys&#x2F;run 快速启动 alt + space search startup">
<meta property="og:type" content="article">
<meta property="og:title" content="Tools and Linux Command">
<meta property="og:url" content="https://jiaxiyang.github.io/2021/06/29/Bash-usage/index.html">
<meta property="og:site_name" content="Xiyang">
<meta property="og:description" content="Useful Tools (can install from github release)windows files 文件管理器 PowerToys color pick: win + shift + c 鼠标荧光笔   罗技 master3 鼠标， 大拇指 + 左右， workspace 切换 PowerToys&#x2F;run 快速启动 alt + space search startup">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-06-29T12:39:09.000Z">
<meta property="article:modified_time" content="2023-09-24T04:04:11.705Z">
<meta property="article:author" content="贾夕阳">
<meta property="article:tag" content="Bash">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://jiaxiyang.github.io/2021/06/29/Bash-usage/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Tools and Linux Command | Xiyang</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WGS6S6YFJ6"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-WGS6S6YFJ6');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Xiyang</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Think twice, code once!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">147</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">37</span></a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">47</span></a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/jiaxiyang" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiaxiyang.github.io/2021/06/29/Bash-usage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/coder2.jpg">
      <meta itemprop="name" content="贾夕阳">
      <meta itemprop="description" content="深度学习/自动驾驶/C++/性能优化">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xiyang">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Tools and Linux Command
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-29 20:39:09" itemprop="dateCreated datePublished" datetime="2021-06-29T20:39:09+08:00">2021-06-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-09-24 12:04:11" itemprop="dateModified" datetime="2023-09-24T12:04:11+08:00">2023-09-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/" itemprop="url" rel="index"><span itemprop="name">Tools</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Tools/Bash/" itemprop="url" rel="index"><span itemprop="name">Bash</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/06/29/Bash-usage/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/06/29/Bash-usage/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>13k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>12 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="Useful-Tools-can-install-from-github-release"><a href="#Useful-Tools-can-install-from-github-release" class="headerlink" title="Useful Tools (can install from github release)"></a>Useful Tools (can install from github release)</h2><h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><ol>
<li><a target="_blank" rel="noopener" href="https://files.community/">files 文件管理器</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/microsoft/PowerToys">PowerToys</a><ul>
<li>color pick: win + shift + c</li>
<li>鼠标荧光笔</li>
</ul>
</li>
<li>罗技 master3 鼠标， 大拇指 + 左右， workspace 切换</li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/windows/powertoys/run">PowerToys&#x2F;run 快速启动</a><ul>
<li>alt + space</li>
<li>search startup 开机启动</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/microsoft/terminal">windows terminal</a><ul>
<li>win + &#96; 上半部分显示</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/QL-Win/QuickLook">windows quicklook 预览</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/QL-Win/QuickLook/wiki/Available-Plugins">quicklook plugins</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/hluk/CopyQ">CopyQ 粘贴板</a><ul>
<li>F6</li>
<li>win + v(系统自带)</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://zh.snipaste.com/index.html">snipaste 截图</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/flameshot-org/flameshot">flameshot 截图工具</a></li>
<li><a target="_blank" rel="noopener" href="https://www.screentogif.com/">screentogif</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/sysinternals/downloads/zoomit">zoomit 投影演示 倒计时</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/windows/wsl/install">WSL2</a></li>
<li><a target="_blank" rel="noopener" href="https://dadroit.com/">Dadroit JSON Viewer</a></li>
</ol>
<span id="more"></span>

<h4 id="shortcuts"><a href="#shortcuts" class="headerlink" title="shortcuts"></a><a target="_blank" rel="noopener" href="https://support.microsoft.com/en-us/windows/keyboard-shortcuts-in-windows-dcc61a57-8ff0-cffe-9796-cb9706c75eec">shortcuts</a></h4><ol>
<li><code>win + f</code> 全屏</li>
<li><code>win + v</code>历史复制</li>
<li><code>win + 1</code> 设置为打开 vscode</li>
</ol>
<h3 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h3><ol>
<li><a target="_blank" rel="noopener" href="https://github.com/withfig/autocomplete">autocomplete</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/dominikwilkowski/cfonts">cfonts</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/dylanaraps/neofetch">neofetch</a> and <a target="_blank" rel="noopener" href="https://www.asciiart.eu/vehicles/cars">asciiart</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/tmux/tmux/wiki">tmux</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/skywind3000/z.lua">z.lua(zh, zb)</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/junegunn/fzf">fzf(C-r, M-c, kill -9 <tab>)</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/BurntSushi/ripgrep">rg</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/sharkdp/fd">fd</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/sharkdp/bat">bat</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mvdan/sh">shfmt</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/orf/gping">gping</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/commitizen/cz-cli">commitizen</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/ohmyzsh">zsh</a>(.zsh_history 保存常用命令)</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ogham/exa">exa</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/sharkdp/hexyl">hexyl</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/tldr-pages/tldr">tldr</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/philc/vimium">vimium</a></li>
<li><a target="_blank" rel="noopener" href="https://htop.dev/">htop</a></li>
<li><a target="_blank" rel="noopener" href="https://docxgen.readthedocs.io/en/latest/">doxygen</a></li>
<li><a target="_blank" rel="noopener" href="https://www.samba.org/">samba</a></li>
<li><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">hexo</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/facebook/docusaurus">docusaurus</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mkdocs/mkdocs/">mkdocs</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/sphinx-doc/sphinx">sphinx-doc</a></li>
<li><a target="_blank" rel="noopener" href="https://cn.ubuntu.com/blog/what-is-snap-application">snap 通用的 linux 软件包</a></li>
<li><a target="_blank" rel="noopener" href="https://snapcraft.io/store">snap store</a></li>
<li><a target="_blank" rel="noopener" href="https://vball.fun/2021/11/23/build-7yuv-snap-package/">7yuv linux</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/eddieantonio/imgcat">imgcat</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/facebook/watchman">watchman</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/tstack/lnav">日志查看 lnav</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/johnkerl/miller">日志分析 miller</a></li>
</ol>
<h3 id="文件传输"><a href="#文件传输" class="headerlink" title="文件传输"></a>文件传输</h3><ol>
<li>mount or pipe + rsync</li>
<li>scp 适用于文件较少</li>
<li>rsync 适用于大量文件，增量传输<ul>
<li>rsync 同步数据， 可以启服务备份数据 <code>rsync -avzr --progress test --exclude=test/5 10.10.0.98:/home/jiaxiyang/</code> 多用 rsync，少用 scp</li>
<li><code>sshpass -p &quot;&quot; rsync -avz -e &quot;ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null&quot; test root@10....</code> sshpass + rsync</li>
</ul>
</li>
<li>pipe 适用于大量文件，第一次传输<ul>
<li><code>tar cf - read_shape | ssh root@10.31.1.153 &quot;tar xf - -C ~/xiyang/&quot;</code>通过管道传输，免去了单独操作麻烦, 用管道来压缩和解压，降低了磁盘 IO(两次), 直接内存里操作</li>
</ul>
</li>
</ol>
<h3 id="tmux"><a href="#tmux" class="headerlink" title="tmux"></a>tmux</h3><ol>
<li>c-m 或 enter： 换行</li>
<li><code>tmux send-keys -t .3 &quot;ls -al&quot; c-m</code> 向当前 windows pannel 3 发送 ls 命令</li>
<li><code>tmux list-panes | wc -l</code> 当前 panel 个数</li>
<li>创建固定个数 panel，每个 panel 执行不同命令</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">PANEL_NUM=6</span><br><span class="line">while [ $(tmux list-panes | wc -l) -lt $&#123;PANEL_NUM&#125; ]; do</span><br><span class="line">	tmux split-window \; #select-pane -L</span><br><span class="line">    tmux select-layout tiled</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">even-horizontal even-vertical main-horizontal main-vertical tiled</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tmux select-layout even-horizontal</span></span><br><span class="line">tmux select-layout tiled</span><br><span class="line"></span><br><span class="line">CURRENT_PANEL=$(tmux display -pt &quot;$&#123;TMUX_PANE:?&#125;&quot; &#x27;#&#123;pane_index&#125;&#x27;)</span><br><span class="line">for i in $(seq 1 $&#123;PANEL_NUM&#125;); do</span><br><span class="line">	echo $&#123;i&#125;</span><br><span class="line">	if [ $&#123;i&#125; -ne $&#123;CURRENT_PANEL&#125; ]; then</span><br><span class="line">		tmux send-keys -t .$&#123;i&#125; &quot;echo $&#123;i&#125;; ls -al&quot; c-m</span><br><span class="line">	fi</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="查看系统系统"><a href="#查看系统系统" class="headerlink" title="查看系统系统"></a>查看系统系统</h2><ol>
<li><code>top</code> and <code>htop</code></li>
<li><code>sudo iotop</code></li>
<li><code>iftop</code></li>
<li><code>iostat -x 1 10</code> 查看 io 情况</li>
<li><code>sudo watch pidstat -d</code> 看哪个进程占用 IO 多。</li>
<li><code>who</code>, <code>w</code>, <code>last</code> and <code>lastlog</code> 查看最后用户登录</li>
</ol>
<h2 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-file-attr-permission.html">文件权限</a></h2><ol>
<li>never use 777</li>
<li>u,g,o,a 分别代表 属主，数组，其他用户，所有用户</li>
<li>+,-,&#x3D; 分别代表 增加，减去，设置一个权限</li>
<li><code>chmod o+w</code> 给其他用户添加写权限</li>
<li><code>o+w</code>会高亮文件夹</li>
<li>mount 问题解决<code>chmod o+w -R .</code> <code>find . -type f | xargs chmod o+w</code> <code>chmod o+w $(find . -type f)</code> 给其他用户加写权限， 不会有 git 历史，umask 022</li>
<li><code>o-r</code> 不让其他用户看</li>
</ol>
<h2 id="Add-User-and-Group"><a href="#Add-User-and-Group" class="headerlink" title="Add User and Group"></a>Add User and Group</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看用户和组<span class="built_in">id</span></span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash"><span class="built_in">id</span> -u &amp;&amp; <span class="built_in">id</span> -g</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加组</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo groupadd xiyang -g 1022</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加用户到组，zsh作为默认shell</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo useradd -g xiyang -ms /bin/zsh xiyang -u 2022</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除用户密码</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">passwd -d xiyang</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前用户group，注意添加之后重新开terminal才生效</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash"><span class="built_in">groups</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加到sudo group</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo  usermod -aG sudo xiyang</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">xiyang作为main group</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo usermod -g xiyang xiyang</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">改变用户<span class="built_in">id</span></span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo usermod -u 1022 xiyang</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">改变组<span class="built_in">id</span></span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo groupmod -g 1022 xiyang</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除用户 -r 删除目录</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">userdel -r xxx</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有用户uid</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash"><span class="built_in">cat</span> /etc/passwd</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">sample</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sshpass -p nvidia ssh nvidia@10.31.1.187</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo groupadd xiyang -g 1022</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo useradd -g xiyang sudo  -ms /bin/bash xiyang -u 1022</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo passwd -d xiyang</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">sudo su - xiyang</span></span><br><span class="line"><span class="meta prompt_">% </span><span class="language-bash">passwd</span></span><br></pre></td></tr></table></figure>

<h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2><ol>
<li>列出.so 或.a 库 <code>ls | awk &#39;/.so$|.a$/&#123;print $0&#125;&#39;</code></li>
<li>分割字符串 注意从$1 开始，$0 表示输入 <code>echo test.so | awk -F &#39;.&#39; &#39;&#123;print $1&#125;&#39;</code></li>
<li>获取 so 库的名字 <code>echo libtest.so | awk -F &#39;.&#39; &#39;&#123;print substr($1,4)&#125;&#39;</code></li>
<li>获取库名字 <code>ls | awk &#39;/.so$|.a$/&#123;print $0&#125;&#39; | awk -F . &#39;&#123;print substr($1, 4)&#125;&#39;</code></li>
<li>获取第一个匹配行 <code>cat file | grep -n &quot;#i[fn]\|#pragma&quot; | awk -F &#39;:&#39; &#39;&#123;print $1&#125;&#39; | awk &#39;NR==1&#39;</code></li>
<li><code>(ldd $&#123;BINS&#125; | grep &quot;=&gt; /&quot; | awk &#39;&#123;print $3&#125;&#39; | xargs -I &#39;&#123;&#125;&#39; cp -v &#39;&#123;&#125;&#39; $&#123;OUTPUT_DIR&#125;/lib</code> copy all link libs</li>
<li>查看库链接关系 <code>for i in $(ldd test | grep &quot;=&gt; /&quot; | awk &#39;&#123;print $3&#125;&#39;); do echo &quot;***************$i **************&quot;; ldd $i | grep flowsdk; done</code></li>
<li>查看加载用到的库 <code>readelf -d build/dog/dog_test1 | grep &#39;NEEDED&#39;</code></li>
</ol>
<h2 id="sed"><a href="#sed" class="headerlink" title="sed"></a><a target="_blank" rel="noopener" href="https://www.gnu.org/software/sed/manual/html_node/Command_002dLine-Options.html#Command_002dLine-Options">sed</a></h2><ol>
<li>双引号才能使用变量</li>
<li>删除匹配： <code>sed -i &quot;/fancyfoot/d&quot; latex/refman.tex</code></li>
<li>在匹配后加入一行 <code>sed -i &#39;/&#123;fancyplain&#125;/a\\\rhead&#123;&#125;&#39; latex/refman.tex</code></li>
<li>在匹配前加一行 <code>sed -i &#39;/doxysection/i\\\newpage&#39; latex/refman.tex</code></li>
<li>删除 1 到 n 行： <code>sed -i &quot;1, $&#123;n&#125;d&quot; file</code></li>
<li>匹配字符所在行替换：<code>sed -i &#39;/config/c\This line is relace.&#39; test.json</code></li>
</ol>
<h2 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h2><ol>
<li><code>curl -fsSL https://mirrors.xxx.xx/xx.sh | bash -ex</code> 一键运行</li>
<li>curl -L http:xxx 不加 -L 会自动转换为 https</li>
<li>-s, –silent Silent mode</li>
<li>-S, –show-error Show error even when -s is used</li>
<li>-f, –fail Fail silently (no output at all) on HTTP errorsc 出错退出</li>
<li>-O, –remote-name Write output to a file named as the remote file 保存为文件名</li>
<li>-o, –output <file> Write to file instead of stdout</li>
</ol>
<h2 id="Useful-Commond"><a href="#Useful-Commond" class="headerlink" title="Useful Commond"></a>Useful Commond</h2><ol>
<li><code>timeout 3s xxxx</code> 超时退出; 可用于无法停止程序测试；不用 ctrl-c</li>
<li><code>alias mc=&#39;cmd()&#123; date;pwd;who|wc -l;&#125;;cmd&#39;</code> alias 执行多条命令</li>
<li><code>pidof firefox | xargs kill -9 </code> or <code>kill $(pidof firefox)</code> kill process by name</li>
<li><code>nl file</code> 显示行号</li>
<li><code>ftp</code>: 搭建 ftp 服务器，脚本 put:<code>scp -r $@ user@IP:path</code>上传文件，脚本 get:<code>for i in $@; do scp -r user@IP:path/$&#123;i&#125;; done</code>获取文件。get-ls:<code>ssh xiyang@xsjsda153 &quot;cd /var/ftp/pub/xiyang/ &amp;&amp; ls $@&quot;</code>, get-list-all:<code>ssh user@IP &quot;cd path &amp;&amp; ls -alhrt&quot;</code>, get-list:<code>ssh user@IP &quot;cd path &amp;&amp; ls -lhrt | tail -n 10&quot;</code>获取 ftp 服务器列表。ftp 服务器上可以放常用文件，各服务器方便取。也可用于服务器(包括 windows)间数据交换。</li>
</ol>
<h2 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h2><ol>
<li><code>gdb attach &lt;pid&gt; =&gt;  info proc all</code> 查看进程是否设置了 coredump</li>
<li><code>gcore $(pidof processname)</code> 命令行直接执行产生 coredump <code>-a</code>产生更详细信息</li>
<li>json config tree <code>main_file=test.json; parse_json() &#123; local file=&quot;$1&quot; indent=&quot;$2&quot;; if [[ ! -f &quot;$file&quot; ]]; then echo &quot;$&#123;indent&#125;$file (not found)&quot;; return; fi; local json_refs=$(grep -oE &#39;&quot;[^&quot;]+\.json&quot;&#39; &quot;$file&quot; || echo &quot;&quot;); local count=0; local total=$(echo &quot;$json_refs&quot; | grep -c .); for ref in $json_refs; do count=$((count + 1)); local ref_file=$(echo $ref | tr -d &#39;&quot;&#39;); if [[ $count -eq $total ]]; then echo -n &quot;$&#123;indent&#125;└── &quot;; local new_indent=&quot;$&#123;indent&#125;    &quot;; else echo -n &quot;$&#123;indent&#125;├── &quot;; new_indent=&quot;$&#123;indent&#125;│   &quot;; fi; if [[ -f &quot;$ref_file&quot; ]]; then echo &quot;$ref_file&quot;; parse_json &quot;$ref_file&quot; &quot;$new_indent&quot;; else echo &quot;$ref_file (not found)&quot;; fi; done; &#125;; echo; echo &quot;$main_file&quot;; parse_json &quot;$main_file&quot; &quot;&quot;; echo</code></li>
<li><code>./pg_perf_monitor_threads.sh 535  | sed &#39;s/\x1b\[[0-9;]*m//g&#39; | tee output.txt</code> 去除彩色</li>
<li><code>stdbuf -oL command | sed &#39;s/\x1b\[[0-9;]*m//g&#39; &gt; output.txt</code> 修改缓存行为，以行为单位写入到文件</li>
<li><code>ls /proc/[PID]/task/</code> or <code>ps -T -p [PID]</code>获取进程线程号</li>
<li><code>echo 1 | sudo tee /proc/sys/kernel/perf_event_paranoid</code> sudo echo 写文件</li>
<li><code>pidof test</code>根据 name 查看 pid</li>
<li><code>du -sh * | sort -h</code> 按大小排序 sort -h enables human-readable sort, so it understands sizes like K, M, and G.</li>
<li><code>update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.8 1</code> 修改默认程序版本</li>
<li><code>cat test* &gt; test.bin</code> 合并文件</li>
<li><code>split -d -n 3 -a 1 total_dummy_input@0.bin00 total_dummy_input@0_ &amp;&amp; ls total_dummy_input@0_* | xargs -I &#123;&#125; mv &#123;&#125; &#123;&#125;.bin</code> 统一重命名</li>
<li><code>split -d -n 5 xxx xxxx</code> slipt 文件</li>
<li><code>split -b 262144 total_flow_predictions.bin total_flow_predictions_split.bin</code> slipt 文件为两部分，第一部分 262144bytes</li>
<li><code>grep -v grep</code> -v 显示不包含的行， 显示不包含 grep 的行</li>
<li><code>tar -C build -zcf install.tgz output</code> 打包 build&#x2F;output, 不保留 build 文件夹</li>
<li><code>pwdx</code> - report current working directory of a process 查看进程工作路径, 有用，可用来看机器被谁占用, <code>ll /proc/&lt;pid&gt;/</code> 查看 cwd</li>
<li><code>for pid in $(ps -e -o pid=); do cmd=$(ps -p $pid -o args=); dir=$(sudo pwdx $pid 2&gt;/dev/null | grep -v &quot;: /$&quot; | cut -d &#39; &#39; -f2-); if [[ ! -z $dir ]]; then echo -e &quot;\033[31m$pid: $dir\033[0m\n        ------  \033[34m$cmd\033[0m&quot;; fi; done</code> 显示所有进程 pwd 及命令</li>
<li><code>pid=PID; cmd=$(ps -p $pid -o args=); dir=$(sudo pwdx $pid 2&gt;/dev/null | grep -v &quot;: /$&quot; | cut -d &#39; &#39; -f2-); if [[ ! -z $dir ]]; then echo -e &quot;\033[31m$pid: $dir\033[0m\n        ------  \033[34m$cmd\033[0m&quot;; fi;</code> 查看单个 pid 信息</li>
<li><code>for pid in $(ps -e -o pid=); do sudo pwdx $pid; done | grep -v &quot;: /$&quot;</code> 查看所有进程路径</li>
<li><code>for pid in $(ps | awk &#39;&#123;print $1&#125;&#39;); do /userdata/pwdx $pid; done | grep -v &quot;: /$&quot;</code>j5 查看所有进程路径</li>
<li><code>ps -eo pid,%mem,cmd --sort=-%mem | awk &#39;NR&gt;1 &#123;print $1, $2&quot;%&quot;, $3; s+=$2&#125; END &#123;print &quot;Total:&quot;, s &quot;%&quot;&#125;&#39;</code> 查看所有进程占用内存百分比及其和</li>
<li><code>cat -n test.cpp</code> or <code>less -N test.cpp</code> 打印带行数</li>
<li><code>readelf -a $(which find)</code> 命令里可以调用其他命令</li>
<li><code>lsblk</code> List information about block devices.查看有哪些磁盘可挂载</li>
<li>解决 ssh 经常断开问题 <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_15505637/article/details/80881770">link</a><ul>
<li><code>sudo /etc/init.d/ssh restart</code></li>
</ul>
</li>
<li><code>stat</code>: 获取文件各种信息</li>
<li><code>fd -e py -e h -e hpp -e cpp -e cc -e png -e jpg -e txt -e md -e cmake -e json | xargs chmod 644</code> 统一改变文件权限</li>
<li><code>fd --type f &#39;.*\.(c|cpp|h|hpp|hxx|cxx)&#39; . -x clang-tidy &#123;&#125;</code></li>
<li><code>/etc/profile</code> sh shell ssh 执行配置</li>
<li><code>echo $SHELL</code> 查看系统用的 shell</li>
<li><code>file</code>查看编码格式</li>
<li><code>nohup</code> no hang up（不挂起），用于在系统后台不挂断地运行命令，退出终端不会影响程序的运行。</li>
<li><code>less</code> is more</li>
<li>nv12 to jpg: <code>ffmpeg -s 1920x1080 -pix_fmt yuv420p -i nv12_1080p.yuv test-1920-1080.jpg</code></li>
<li><code>(ldd $&#123;BINS&#125; | grep &quot;=&gt; /&quot; | awk &#39;&#123;print $3&#125;&#39; | xargs -I &#39;&#123;&#125;&#39; cp -v &#39;&#123;&#125;&#39; $&#123;OUTPUT_DIR&#125;/lib</code> copy all link libs</li>
<li><code>wget -rcN -np -nH -q --cut-dirs=100 -R &quot;index.html*&quot; https://mirrors.phigent.io/xxx/xx -P output_dir</code> wget 下载文件夹， <code>--cut-dirs=n</code> 从&#x2F;开始往后忽略几级文件夹， <code>-q</code> quite</li>
<li><code>wget -r -nH --cut-dirs=100 --reject &quot;index.html*&quot; --no-parent https://mirrors.phigent.io/xxx/xx -P output_dir</code></li>
<li><code>ls -Al --si --time-style long-iso</code> <code>-A</code>:不显示.和.., <code>--si</code> human readable <code>--time-style long-iso</code>时间显示为 2022-06-10</li>
<li><code>truncate --size 1M file_name</code> 创建大小为 1M 的文件 file_name</li>
<li><code>dd if=/dev/urandom of=random_input.bin bs=983040 count=1</code> 创建大小为 bs 的随机文件</li>
<li><a target="_blank" rel="noopener" href="https://guides.wp-bullet.com/batch-resize-images-using-linux-command-line-and-imagemagick/">imagemagick</a>: 命令行 resize 图片</li>
<li><code>watch cat /proc/sys/fs/file-nr</code> get the current number of open files</li>
<li><code>pidof firefox | xargs kill -9 </code> or <code>kill $(pidof firefox)</code> kill process by name</li>
<li><code>pkg-config --cflags --libs gstreamer-1.0</code></li>
<li><code>pkg-config --modversion poppler-data</code> 查看库版本 , pkg-confg 配置文件在&#x2F;usr&#x2F;share&#x2F;pkgconfig 下(pkg-config 一般为开发者使用，文件系统中勾选-dev)</li>
<li><code>ldconfig -p </code>查看系统安装的库</li>
<li><code>ldconfig -p | grep pcap</code> 查看系统是否安装 pcap</li>
<li>打洞： A1, A2, A3…, B, C; A 能连接 B, B 能连接 C, A 不能连接 C。C 上配置<code>~/.ssh/config</code>:</li>
</ol>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config</span><br></pre></td></tr></table></figure>

<p>B 上执行<code>ssh </code>登录到 C，再打开一个 C 连接，就能和 A 之间使用 scpc 传数据。如果 A 连网，C 如果想连网，B 执行完 ssh 命令后，登录到 C 上，再执行<code>ssh </code>后登录到 A 上，再打开一个 C 连接，就能上网了。</p>
<ol>
<li><p>ssh -L 8000:10.31.1.177:80 <a href="mailto:&#120;&#105;&#121;&#97;&#110;&#x67;&#64;&#49;&#48;&#x2e;&#51;&#49;&#46;&#49;&#x2e;&#50;&#50;&#53;">&#120;&#105;&#121;&#97;&#110;&#x67;&#64;&#49;&#48;&#x2e;&#51;&#49;&#46;&#49;&#x2e;&#50;&#50;&#53;</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/damaainan/ceshisina/blob/master/Linux/blog/linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/06linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%E4%BB%8B%E7%BB%8D%E5%85%AD%EF%BC%9A%E7%BD%91%E7%BB%9C.md#L454">link</a></p>
<ul>
<li>假设 A 为 windows 机器，打开 mobarxterm 本地执行 ssh -L 2222:C_IP:22 xiyang.jia@B_IP 登录 B, 将所有发送 2222 端口的数据通过中间主机<code>B</code>转发至目标主机<code>C</code>的<code>22</code>端口，</li>
<li>A 再开一个窗口，执行 ssh -p 2222 root@localhost，A 直接连接 C</li>
</ul>
</li>
<li><p>sed -i “s&#x2F;查找字段&#x2F;替换字段&#x2F;g” <code>grep 查找字段 -rl 路径</code></p>
</li>
<li><p><code>cat url-list.txt | xargs wget -c</code>xargs 将参数列表转换成小块分段传递给其他命令</p>
</li>
<li><p><code>fd pdf | xargs -n1 -I &#123;&#125; cp &#123;&#125; pdf/</code> cp 所有 pdf 到 pdf&#x2F;文件夹</p>
</li>
<li><p>ssh scp 免密登录<code>ssh-keygen -t rsa &amp;&amp; ssh-copy-id -i ~/.ssh/id_rsa.pub root@10.10.129.25</code> 或将一台机器的 id_rsa.pub 复制到另一台机器~&#x2F;.ssh&#x2F;authorized_keys 文件中</p>
</li>
<li><p><code>tree -L 2</code> 查看二级目录结构</p>
</li>
<li><p><code>lsb_release -a</code> 查看操作系统版本，是 Ubuntu 还是 CentOS，是 14.04 还是 16.04</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011630575/article/details/52151995">link</a><br><code>./test.sh 2&gt;&amp;1 | tee test.log</code> log 同时输出到前台和文件中 可以不带 2&gt;&amp;1(将标准错误输出到标准输出)<br><code>./test.sh &amp;&gt;test.log</code> 将标准输出, 标准错误重定位到 test.log, &amp;&gt;file 意思是把标准输出 和 标准错误输出 都重定向到文件 file 中, 在 Bash 中，&amp;&gt;与 2&gt;&amp;1 的含义相同。<br><code>./test.sh 2&gt;test.log 1&gt;&amp;2</code> 将标准输出重定位到标准错误， 标准错误重定位到 test.log<br><code>./test.sh &gt;test.log 2&gt;&amp;1</code> 将标注错误重定位到标准输出，标准输出重定位到 test.log<br><code> ls a.txt b.txt 1&gt;file.out 2&gt;file.err</code> “1&gt;” 通常可以省略成 “&gt;”</p>
</li>
<li><p>IP 地址别名，如服务器别名 <code>/etc/hosts 10.10.0.61 dg16</code></p>
</li>
<li><p><code>ssh -v root@10.10.129.25</code> 通过[-v]参数，查看 ssh 连接的具体过程</p>
</li>
<li><p><code>echo123456 | sudo -S ./winless.sh</code> 以 root 权限来执行文件 这里 123456 是密码，参数-S 专门为执行 sudo 命令的时候要输入密码而准备的，表示标准输入。</p>
</li>
<li><p>ssh 打洞，中间机器运行 <code>ssh -R10115:$&#123;IP1&#125;:22 $&#123;IP2&#125;</code><br>然后运行 <code>rsync -avz --progress -e &#39;ssh -p 10115&#39; $&#123;FILES&#125; localhost:$&#123;PATH&#125;</code></p>
</li>
<li><p>w 查看登录的用户 who 向登录用户发消息 <code>echo jia &gt; /dev/pts/20 </code> <code>for i in $(who | awk &#39;&#123;print $2&#125;&#39;); do echo &quot;$&#123;i&#125;&quot; &gt; /dev/$&#123;i&#125;; done</code></p>
</li>
<li><p><code>nslookup www.baidu.com</code> 域名查询命令</p>
</li>
<li><p>split 将一个大文件分割成多个小文件</p>
</li>
<li><p><code>chmod 777 -R work_space</code> 改变目录下所有文件权限</p>
</li>
<li><p><code>time program</code> 测试程序运行时间</p>
</li>
<li><p><code>ssh -XY jiaxiyang@10.10.0.61</code> 需要的时候显示图形界面</p>
</li>
<li><p><code>arp -na</code> 查看网络中连接情况</p>
</li>
<li><p><code>find . -name &#39;*&#39; -exec touch &#123;&#125; \;</code> 修改当前目录及子目录中所有文件的时间</p>
</li>
<li><p><code>chattr</code> 修改文件（夹）属性 不能被删除</p>
</li>
<li><p><code>figlet &quot;jia&quot; -f scrpt(ls /usr/share/figlet)</code> 改变输出字体大小</p>
</li>
<li><p><code>ln -s source target</code> 创建软连接</p>
</li>
<li><p>ln 非常有用，可以使用 ln 来重新命名文件，可以提供一层虚拟层，文件名字路径改变只需重新链接一下，上层代码不用改变。例如 xilinx 所有硬盘都连接到 &#x2F;proj&#x2F;rdi&#x2F;staff&#x2F;xiyang 方便操作</p>
</li>
<li><p><code>watch -d -n 1 ./Re reg</code> 每隔 1 秒查看程序变化</p>
</li>
<li><p><code>axel -n 15（线程数）URL</code> 多线程下载</p>
</li>
<li><p><code>apt-cache search trash</code> 搜索安装包</p>
</li>
<li><p><code>sudo dpkg --install atom-amd64.deb</code> dpkg 安装.deb 软件包</p>
</li>
<li><p><code>export PATH=&quot;/home/zxy/Desktop:$PATH&quot;</code> 添加环境变量</p>
</li>
<li><p><code>linuxlogo</code> 命令行显示 linux logo</p>
</li>
<li><p><code>sudo mount -t tmpfs -o size=8G tmpfs ramdisk/</code> 创建内存文件系统， 可以加快程序运行时间。</p>
</li>
<li><p><code>hostname</code> 查看主机名</p>
</li>
<li><p><code>tar -zxvf aa.tar.gz BOOT.BIN</code> 单独解压 某个文件 <code>tar -tf</code> 压缩包名称，可以查看压缩包内容 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/manong--/p/8012324.html">https://www.cnblogs.com/manong--/p/8012324.html</a></p>
</li>
<li><p><code>speedtest-cli</code> 测下载上传网速</p>
</li>
<li><p><code>curl -O -u jiaxiyang:jiaxiyang -s[-#]</code></p>
</li>
<li><p><code>wget -c url</code> 支持断点续传 好用，可以用来下载大文件，比如： petalinux cache 30G</p>
</li>
<li><p><code>crontab -e</code> 定时执行脚本 cat &#x2F;var&#x2F;mail&#x2F;jiaxiyang 查看结果</p>
</li>
<li><p><code>syncthing</code> 文件同步神器</p>
</li>
<li><p><code>realpath</code> 查看文件全路径</p>
</li>
<li><p><code>shotwell</code> *.jpg 打开图片</p>
</li>
<li><p><code>vimdiff dp</code> 快速移动不同</p>
</li>
<li><p><code>stat - display file or file system status</code></p>
</li>
<li><p><code>stat -c %s file</code> 查看文件长度</p>
</li>
<li><p><code>stat -c %z file</code> 查看文件修改时间</p>
</li>
<li><p><code>rm file || true</code> 如果不存在执行 true，还是会报错，但$?返回为 0 使用，使用 bash -ex 时不会退出。</p>
</li>
<li><p><code>cat file | grep -v &#39;^#&#39;</code> 输出不以#号开头的行</p>
</li>
<li><p><code>SCRIPT_PATH=$(dirname $(realpath xx.sh)) </code> 比 pwd 要好，pwd 显示的是虚拟链接地址。</p>
</li>
<li><p><code>PROJECT_NAME=$(basename $(SCPRIT_PATH))</code> 当前脚本所在的工程名字</p>
</li>
<li><p>sshpass 如果没带 nocheck 需要 ssh 先登录一次, 或者 StrictHOstkeyChecking&#x3D;no</p>
</li>
<li><p><code>sshpass -p root（密码） ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@10.10.129.22 &#39;/etc/init.d/led start&#39;</code> 跨机器执行命令 在机器 A 上调用，在机器 B 上执行，将结果输出到 A 上。</p>
</li>
<li><p><code>sshpass -p root（密码） ssh(scp) -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@10.10.129.22 ssh -y -y root@zu9-2 &quot; &#39; cd /home &amp;&amp; ls&#39;&quot; </code>zu9 上执行 cd &#x2F;home &amp;&amp; ls 注意 要同时加双引号和单引号。<code>sshpass -p jiaxiyang scp -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null static_ip.txt jiaxiyang@10.10.0.96:~</code></p>
</li>
<li><p><code>scp -o ProxyJump=nvidia@10.31.1.12 -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -r dir_test  root@10.31.1.180:/userdata/mount/xiyang/</code>跨机器传文件</p>
</li>
<li><p><code>ssh -o ProxyJump=nvidia@10.31.1.12 root@10.31.1.180 &#39;ls /userdata&#39;</code> 跨机器执行， host -&gt; 12 -&gt;180 执行</p>
</li>
<li><p><code>tar -cf - zu9_test | sshpass -p root ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@10.10.129.133 &quot;tar -xvf - -C /var&quot;</code> 跨机器 cp 文件并免密</p>
</li>
<li><p><code>rm -rf /etc/localtime &amp;&amp; ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</code> 设置北京时区</p>
</li>
<li><p>多网卡不能同时配置一个网关?</p>
</li>
</ol>
<h2 id="Links-and-Reference"><a href="#Links-and-Reference" class="headerlink" title="Links and Reference"></a>Links and Reference</h2><ol>
<li><a target="_blank" rel="noopener" href="https://github.com/jlevy/the-art-of-command-line/blob/master/README-zh.md">The art of command line</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/alebcay/awesome-shell">Awesome shell</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/awesome-lists/awesome-bash">Awesome bash</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/zhouyiqi91/awesome-cheatsheets/blob/master/languages/bash.sh">Bash cheatsheet</a></li>
</ol>

    </div>

    
    
    
      

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>贾夕阳
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://jiaxiyang.github.io/2021/06/29/Bash-usage/" title="Tools and Linux Command">https://jiaxiyang.github.io/2021/06/29/Bash-usage/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Bash/" rel="tag"><i class="fa fa-tag"></i> Bash</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/06/27/Elisp/" rel="prev" title="Elisp">
      <i class="fa fa-chevron-left"></i> Elisp
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/07/11/Rust-grammar/" rel="next" title="Rust grammar">
      Rust grammar <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Useful-Tools-can-install-from-github-release"><span class="nav-text">Useful Tools (can install from github release)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#windows"><span class="nav-text">windows</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#shortcuts"><span class="nav-text">shortcuts</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linux"><span class="nav-text">linux</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93"><span class="nav-text">文件传输</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tmux"><span class="nav-text">tmux</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E7%B3%BB%E7%BB%9F"><span class="nav-text">查看系统系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="nav-text">文件权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Add-User-and-Group"><span class="nav-text">Add User and Group</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#awk"><span class="nav-text">awk</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sed"><span class="nav-text">sed</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#curl"><span class="nav-text">curl</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Useful-Commond"><span class="nav-text">Useful Commond</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Miscellaneous"><span class="nav-text">Miscellaneous</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Links-and-Reference"><span class="nav-text">Links and Reference</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="贾夕阳"
      src="/images/coder2.jpg">
  <p class="site-author-name" itemprop="name">贾夕阳</p>
  <div class="site-description" itemprop="description">深度学习/自动驾驶/C++/性能优化</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">147</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">37</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/jiaxiyang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jiaxiyang" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



  <div class="links-of-recent-posts motion-element">
    <div class="links-of-recent-posts-title">
      <i class="fa fa-history fa-fw"></i>
      最近文章
    </div>
    <ul class="links-of-recent-posts-list">
        <li class="links-of-recent-posts-item">
          <a href="/2023/09/21/test/" title="2023&#x2F;09&#x2F;21&#x2F;test&#x2F;">test</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/2023/09/21/assembly/" title="2023&#x2F;09&#x2F;21&#x2F;assembly&#x2F;">assembly</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/2023/09/20/QEMU/" title="2023&#x2F;09&#x2F;20&#x2F;QEMU&#x2F;">QEMU</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/2023/09/13/Reverse-Engineering/" title="2023&#x2F;09&#x2F;13&#x2F;Reverse-Engineering&#x2F;">Reverse-Engineering</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/2023/09/04/go/" title="2023&#x2F;09&#x2F;04&#x2F;go&#x2F;">go</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2021 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">贾夕阳</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">347k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">5:16</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'dark',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://jiaxiyang.github.io/2021/06/29/Bash-usage/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'hbdf2zNhxCCzlSuodiOKirnE-gzGzoHsz',
      appKey     : 'gJuRc9Mu4JIB0czCtRefSodC',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
